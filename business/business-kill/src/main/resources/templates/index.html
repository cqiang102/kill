<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>秒杀列表</title>
    <style>
        .box{
            border:  1px solid black;
        }
    </style>
</head>
<body>
<table class="box">
    <thead>
    <tr class="box">
    <th class="box">商品名称</th>
    <th class="box">剩余数量</th>
    <th class="box">开始时间</th>
    <th class="box">结束时间</th>
    <th class="box">操作</th>
    </tr>
    </thead>
    <tbody class="box">
    <tr th:each="item : ${killItems}" class="box">
        <td class="box"><span th:text="${item.itemName}"></span></td>
        <td class="box"><span th:text="${item.total}"></span></td>
        <td class="box"><span th:text="${#dates.format(item.startTime, 'yyyy-MM-dd hh:mm:ss')}"></span></td>
        <td class="box"><span th:text="${#dates.format(item.endTime, 'yyyy-MM-dd hh:mm:ss')}"></span></td>
        <td class="box"><button th:onclick="'detail('+${item.itemId}+')'" th:disabled="${!(item.canKill == 1) }" th:text="${item.canKill == 1 ? '查看详情':'已过期'}"></button></td>

    </tr>
    </tbody>
</table>
<script>
    function detail(id) {
        console.dir(id)
        window.open("/item/"+id);
    }
</script>
</body>
</html>
